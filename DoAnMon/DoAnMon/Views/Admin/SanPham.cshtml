
@{
    ViewBag.Title = "SanPham";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

@using DoAnMon.Models
@{ 
    var data = new dbBanHangOnlineEntities();
}
<h1 class="mt-4">
    Sản Phẩm
</h1>
<ol class="breadcrumb mb-4">
    <li class="breadcrumb-item active">
        <a href=@Url.Action("SanPham","Admin")>
            Sản Phẩm
        </a>
    </li>
</ol>
<div class="card mb-4">
    <div class="card-header">
        <i class="fas fa-table mr-1"></i>
        Danh Sách Sản Phẩm
    </div>
    <div class="card-body">
        <div class="table-responsive">
        <div style="text-align:center" >
            <a href=@Url.Action("ThemSanPham", "Admin")>
                <button type="button" class="btn btn-secondary">Nhập Sản Phẩm Mới</button>
            </a>
        </div>
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>Mã Sản Phẩm</th>
                        <th>Tên Sản Phẩm</th>
                        <th>Giá Bán</th>
                        <th>Mô Tả</th>
                        <th>Ảnh Sản Phẩm</th>
                        <th>Ngày Cập Nhật</th>
                        <th>Loại Sản Phẩm</th>
                        <th>Chỉnh Sửa</th>
                        <th>Xóa</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in data.sanPhams)
                    {
                        <tr>
                            <td>@item.maSP</td>
                            <td>@item.tenSP</td>
                            <td>
                                @String.Format("{0:0,0}", item.giaBan)
                            </td>
                            <td>
                                @item.ndTomTat.Split('.')[0]<text>...</text>
                            </td>
                            <td>
                                <img src=@Url.Content("~/Content/"+item.hinhDD) style="width:50%" />
                            </td>
                            <td>@item.ngayDang</td>
                            <td>
                                @data.loaiSPs.SingleOrDefault(a => a.maLoai == item.maLoai).loaiHang
                            </td>
                            <td>
                                <a href=@Url.Action("ChinhSua","Admin",new { id = item.maSP }) style="text-decoration:none">Chỉnh Sửa</a>
                            </td>
                            <td>
                                <a href=@Url.Action("XoaSanPham","Admin",new { id = item.maSP }) style="text-decoration:none">Xóa</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        
    </div>
</div>
